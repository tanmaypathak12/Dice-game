<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dice Battle</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }
    .dark-mode {
      background: #121212;
      color: white;
    }
    h1 {
      text-align: center;
      margin: 20px 0;
    }
    .board {
      position: relative;
      width: 100%;
      height: 70vh;
    }
    .dice {
      width: 100px;
      height: 100px;
      border-radius: 16px;
      background: white;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 60px;
      cursor: pointer;
      transition: transform 0.5s;
      position: absolute;
    }
    #player1-dice { bottom: 20px; left: 20px; }
    #player2-dice { top: 20px; right: 20px; }
    .toggle, .new-game {
      padding: 10px 15px;
      background: #333;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 10px;
    }
    .result {
      text-align: center;
      font-size: 20px;
      margin-top: 20px;
    }
    footer {
      text-align: center;
      margin-top: 30px;
      font-size: 14px;
    }
    footer a {
      color: #0077b5;
      text-decoration: none;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ğŸ² Dice Battle ğŸ²</h1>
  <div class="board">
    <div id="player1-dice" class="dice">ğŸ²</div>
    <div id="player2-dice" class="dice">ğŸ²</div>
  </div>  <div class="result" id="result"></div>  <div style="text-align:center;">
    <button class="toggle" onclick="toggleDarkMode()">ğŸŒ™ Dark Mode</button>
    <button class="new-game" id="newGameBtn" style="display:none;" onclick="startNewGame()">ğŸ”„ New Game</button>
  </div>  <footer>
    Made by <strong>Tanmay Pathak</strong> Â· <a href="https://www.linkedin.com/in/tanmay-pathak-752b15331" target="_blank">LinkedIn</a>
  </footer>  <script>
    let darkMode = false;
    let player1Sum = 0;
    let player2Sum = 0;
    let turn = 0;
    const maxTurns = 3;
    const diceFaces = ["âš€","âš","âš‚","âšƒ","âš„","âš…"];

    function toggleDarkMode() {
      darkMode = !darkMode;
      document.body.classList.toggle("dark-mode");
    }

    function rollNormalDice() {
      return Math.floor(Math.random() * 6) + 1;
    }

    function animateDice(diceId, val1, val2) {
      let dice = document.getElementById(diceId);
      dice.innerHTML = "ğŸ²";
      dice.style.transform = "rotate(720deg) scale(1.2)";
      setTimeout(() => {
        dice.style.transform = "rotate(0deg) scale(1)";
        dice.innerHTML = diceFaces[val1-1] + " " + diceFaces[val2-1];
      }, 600);
    }

    function opponentTurn(round=1) {
      if (round > maxTurns) {
        document.getElementById("result").innerHTML = "ğŸ‘‰ Now your turn! Click your dice 3 times.";
        return;
      }
      let d1 = rollNormalDice();
      let d2 = rollNormalDice();
      animateDice("player2-dice", d1, d2);
      player2Sum += d1+d2;
      setTimeout(() => opponentTurn(round+1), 1000);
    }

    function rollPlayer1Dice() {
      if (turn >= maxTurns) return;
      turn++;
      let dice1, dice2;
      if (darkMode) {
        if (turn === 1 || turn === 2) {
          dice1 = 6; dice2 = 6;
        } else {
          const options = [[6,6],[6,5],[6,4]];
          [dice1,dice2] = options[Math.floor(Math.random()*options.length)];
        }
      } else {
        dice1 = rollNormalDice();
        dice2 = rollNormalDice();
      }
      animateDice("player1-dice", dice1, dice2);
      player1Sum += dice1 + dice2;
      if (turn === maxTurns) {
        setTimeout(checkWinner, 800);
      }
    }

    function checkWinner() {
      if (player1Sum > player2Sum) {
        document.getElementById("result").innerHTML = `ğŸ† You Win! (${player1Sum} vs ${player2Sum})`;
      } else if (player1Sum < player2Sum) {
        document.getElementById("result").innerHTML = `ğŸ˜¢ Opponent Wins! (${player1Sum} vs ${player2Sum})`;
      } else {
        document.getElementById("result").innerHTML = `ğŸ¤ It's a Draw! (${player1Sum} vs ${player2Sum})`;
      }
      document.getElementById("newGameBtn").style.display = "inline-block";
    }

    function startNewGame() {
      player1Sum = 0;
      player2Sum = 0;
      turn = 0;
      document.getElementById("result").innerHTML = "";
      document.getElementById("newGameBtn").style.display = "none";
      document.getElementById("player1-dice").innerHTML = "ğŸ²";
      document.getElementById("player2-dice").innerHTML = "ğŸ²";
      opponentTurn();
    }

    // attach roll event for player1
    document.getElementById("player1-dice").addEventListener("click", rollPlayer1Dice);

    // Start game automatically with opponent's turn
    window.onload = () => opponentTurn();
  </script></body>
</html>
